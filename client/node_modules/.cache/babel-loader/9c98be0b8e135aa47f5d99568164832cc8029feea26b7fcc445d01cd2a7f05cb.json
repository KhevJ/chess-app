{"ast":null,"code":"import _slicedToArray from\"/Users/khevinjugessur/Downloads/multiplayer-chess/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Button,Stack,TextField}from\"@mui/material\";import{useState}from\"react\";import CustomDialog from\"./components/CustomDialog\";import socket from'./socket';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function InitGame(_ref){var setRoom=_ref.setRoom,setOrientation=_ref.setOrientation,setPlayers=_ref.setPlayers;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),roomDialogOpen=_useState2[0],setRoomDialogOpen=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),roomInput=_useState4[0],setRoomInput=_useState4[1];// input state\nvar _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),roomError=_useState6[0],setRoomError=_useState6[1];return/*#__PURE__*/_jsxs(Stack,{justifyContent:\"center\",alignItems:\"center\",sx:{py:1,height:\"100vh\"},children:[/*#__PURE__*/_jsx(CustomDialog,{open:roomDialogOpen,handleClose:function handleClose(){return setRoomDialogOpen(false);},title:\"Select Room to Join\",contentText:\"Enter a valid room ID to join the room\",handleContinue:function handleContinue(){// join a room\nif(!roomInput)return;// if given room input is valid, do nothing.\nsocket.emit(\"joinRoom\",{roomId:roomInput},function(r){// r is the response from the server\nif(r.error)return setRoomError(r.message);// if an error is returned in the response set roomError to the error message and exit\nconsole.log(\"response:\",r);setRoom(r===null||r===void 0?void 0:r.roomId);// set room to the room ID\nsetPlayers(r===null||r===void 0?void 0:r.players);// set players array to the array of players in the room\nsetOrientation(\"black\");// set orientation as black\nsetRoomDialogOpen(false);// close dialog\n});},children:/*#__PURE__*/_jsx(TextField,{autoFocus:true,margin:\"dense\",id:\"room\",label:\"Room ID\",name:\"room\",value:roomInput,required:true,onChange:function onChange(e){return setRoomInput(e.target.value);},type:\"text\",fullWidth:true,variant:\"standard\",error:Boolean(roomError),helperText:!roomError?'Enter a room ID':\"Invalid room ID: \".concat(roomError)})}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:function onClick(){socket.emit(\"createRoom\",function(r){console.log(r);setRoom(r);setOrientation(\"white\");});},children:\"Start a game\"}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){setRoomDialogOpen(true);},children:\"Join a game\"})]});}","map":{"version":3,"names":["Button","Stack","TextField","useState","CustomDialog","socket","jsx","_jsx","jsxs","_jsxs","InitGame","_ref","setRoom","setOrientation","setPlayers","_useState","_useState2","_slicedToArray","roomDialogOpen","setRoomDialogOpen","_useState3","_useState4","roomInput","setRoomInput","_useState5","_useState6","roomError","setRoomError","justifyContent","alignItems","sx","py","height","children","open","handleClose","title","contentText","handleContinue","emit","roomId","r","error","message","console","log","players","autoFocus","margin","id","label","name","value","required","onChange","e","target","type","fullWidth","variant","Boolean","helperText","concat","onClick"],"sources":["/Users/khevinjugessur/Downloads/multiplayer-chess/client/src/InitGame.jsx"],"sourcesContent":["import { Button, Stack, TextField } from \"@mui/material\";\nimport { useState } from \"react\";\nimport CustomDialog from \"./components/CustomDialog\";\nimport socket from './socket';\n\nexport default function InitGame({ setRoom, setOrientation, setPlayers }) {\n  const [roomDialogOpen, setRoomDialogOpen] = useState(false);\n  const [roomInput, setRoomInput] = useState(''); // input state\n  const [roomError, setRoomError] = useState('');\n\n  return (\n    <Stack\n      justifyContent=\"center\"\n      alignItems=\"center\"\n      sx={{ py: 1, height: \"100vh\" }}\n    >\n      <CustomDialog\n        open={roomDialogOpen}\n        handleClose={() => setRoomDialogOpen(false)}\n        title=\"Select Room to Join\"\n        contentText=\"Enter a valid room ID to join the room\"\n        handleContinue={() => {\n            // join a room\n            if (!roomInput) return; // if given room input is valid, do nothing.\n            socket.emit(\"joinRoom\", { roomId: roomInput }, (r) => {\n              // r is the response from the server\n              if (r.error) return setRoomError(r.message); // if an error is returned in the response set roomError to the error message and exit\n              console.log(\"response:\", r);\n              setRoom(r?.roomId); // set room to the room ID\n              setPlayers(r?.players); // set players array to the array of players in the room\n              setOrientation(\"black\"); // set orientation as black\n              setRoomDialogOpen(false); // close dialog\n            });\n          }}\n      >\n        <TextField\n          autoFocus\n          margin=\"dense\"\n          id=\"room\"\n          label=\"Room ID\"\n          name=\"room\"\n          value={roomInput}\n          required\n          onChange={(e) => setRoomInput(e.target.value)}\n          type=\"text\"\n          fullWidth\n          variant=\"standard\"\n          error={Boolean(roomError)}\n          helperText={!roomError ? 'Enter a room ID' : `Invalid room ID: ${roomError}` }\n        />\n      </CustomDialog>\n      {/* Button for starting a game */}\n      <Button\n        variant=\"contained\"\n        onClick={() => {\n            socket.emit(\"createRoom\", (r) => {\n            console.log(r);\n            setRoom(r);\n            setOrientation(\"white\");\n            });\n        }}\n        >\n        Start a game\n      </Button>\n      {/* Button for joining a game */}\n      <Button\n        onClick={() => {\n          setRoomDialogOpen(true)\n        }}\n      >\n        Join a game\n      </Button>\n    </Stack>\n  );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}